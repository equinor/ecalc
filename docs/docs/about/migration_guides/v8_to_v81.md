---
title: v8 to v8.1
description: v8 to v8.1 migration
sidebar_position: -1
---

# v8 to v8.1

In this migration guide you will find:

1. [YAML changes](#yaml-migration)

## Yaml migration

### Migration overview

This doc guides you through migrating an existing eCalc™ model from version v8 to v8.1.

We try to make this as easy as possible, and provide a step-by-step migration guide.

### 1. Changes to TIME_SERIES
- `RATE_INTERPOLATION_TYPE` is renamed to [`INTERPOLATION_TYPE`](../references/INTERPOLATION_TYPE)
- New time series type: `DEFAULT` with default `RIGHT` interpolation
- `RESERVOIR` type is removed

Previously, it looked like this:

```yaml
TIME_SERIES:
  - NAME: <time series reference name>
    # This is old
    TYPE: <MISCELLANEOUS/RESERVOIR>
    FILE: <path to file>
    INFLUENCE_TIME_VECTOR: <True/False>
    EXTRAPOLATION: <True/False>
    # This is old
    RATE_INTERPOLATION_TYPE: <LEFT/RIGHT/LINEAR>
```

But the new valid definition of time series in the yaml is now:

```yaml
TIME_SERIES:
  - NAME: <time series reference name>
    # This is new
    TYPE: <MISCELLANEOUS/DEFAULT>
    FILE: <path to file>
    INFLUENCE_TIME_VECTOR: <True/False>
    EXTRAPOLATION: <True/False>
    # This is new
    INTERPOLATION_TYPE: <LEFT/RIGHT/LINEAR>
```
:::important
We have understood that the previous definitions lead to misunderstandings and errors. It is therefore of high importance
that you now go through the reservoir data timeseries one-by-one and make sure that the correct type and interpolation type
is set. See below for the 2 possibilities of migrating from the old `RESERVOIR` type.
:::

If you previously used the `RESERVOIR` type, you know have 2 options. See below.

```yaml
TIME_SERIES:
  - NAME: <time series reference name>
    # This is old
    TYPE: RESERVOIR
    ...
```

If you know that the reservoir data comes from Centuries, and/or that the data is right-interpolated, then you should
change to the new `DEFAULT` type, like this:

```yaml
TIME_SERIES:
  - NAME: <time series reference name>
    # This is new
    TYPE: DEFAULT
    ...
```

:::important
If you do NOT know the origin of the timeseries or whether it uses `LEFT` or `RIGHT` interpolation, you **MUST** contact
somebody that can help you out to make this right. The consequences of doing it wrong is that the calculations is
easily offset by 1 year.
:::

### 2. Not possible to have different interpolation types for vectors within one file

Previously eCalc™ tried to recognize vectors as rates- or non-rates for time series.
Hence, rate-vectors were set to use `LEFT` interpolation type, or if the type was
MISCELLANEOUS it was set to the method given by the user. If the vector was not recognized
as a rate, the interpolation method was automatically set to `LINEAR`, regardless of user input.

This behaviour is now changed:

:::important
eCalc™ will no longer auto-detect rates and set interpolation type based on recognized
rate vectors. If different vectors (e.g. pressures and rates) should be interpolated differently, they now need
to be in separate files.
:::

### 3. Empty data in time series columns no longer allowed

Each column in a time series resource should have data for all time steps, eCalc™ will now show an error if this is not the case. 
The reason behind this is that it can be ambiguous to know whether missing data should be interpolated or considered as 0. Now
users will have to be explicit, and this will lead to fewer ambiguities and errors.

### 4.  New LTP Category: STEAM-TURBINE-GENERATOR

A new LTP requirement to report steam turbine generator consumption/generation. This affects the total generator production 
negatively (reduced load), as some energy is provided through this steam turbine generator. It is therefore modelled as a consumer 
with a negative load in order to subtract from the total energy provided by the generator set. 

The load on the steam turbine generator is reported separately in a new column in LTP Export.

Added new [CATEGORY](../references/CATEGORY) with name *STEAM-TURBINE-GENERATOR* to report power generated by a steam turbine.
Should be negative load to deduct from genset. See excerpt example below:

```yaml
    - NAME: steamgen
      CATEGORY: STEAM-TURBINE-GENERATOR
      ENERGY_USAGE_MODEL:
        TYPE: DIRECT
        LOAD: -1.1 # MW
```

:::important
Set **negative** load for `STEAM-TURBINE-GENERATOR` (similar to the way `OFFSHORE-WIND` is being used)
:::