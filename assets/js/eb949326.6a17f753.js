"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[3865],{23280:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>t,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"about/references/CONTROL_MARGIN","title":"CONTROL_MARGIN","description":"MODELS /","source":"@site/docs/about/references/CONTROL_MARGIN.md","sourceDirName":"about/references","slug":"/about/references/CONTROL_MARGIN","permalink":"/ecalc/docs/about/references/CONTROL_MARGIN","draft":false,"unlisted":false,"editUrl":"https://github.com/equinor/ecalc/tree/main/documentation/docs/about/references/CONTROL_MARGIN.md","tags":[],"version":"current","frontMatter":{},"sidebar":"about","previous":{"title":"CONSUMPTION_RATE_TYPE","permalink":"/ecalc/docs/about/references/CONSUMPTION_RATE_TYPE"},"next":{"title":"CONTROL_MARGIN_UNIT","permalink":"/ecalc/docs/about/references/CONTROL_MARGIN_UNIT"}}');var o=r(74848),l=r(28453);const a={},t="CONTROL_MARGIN",i={},c=[{value:"Description",id:"description",level:2},{value:"Use in Single speed compressor train model",id:"use-in-single-speed-compressor-train-model",level:2},{value:"Format",id:"format",level:3},{value:"Example",id:"example",level:3},{value:"Use in Variable speed compressor train model",id:"use-in-variable-speed-compressor-train-model",level:2},{value:"Format",id:"format-1",level:3},{value:"Example",id:"example-1",level:3},{value:"Use in Variable speed compressor train model with multiple streams and pressures",id:"use-in-variable-speed-compressor-train-model-with-multiple-streams-and-pressures",level:2},{value:"Format",id:"format-2",level:3},{value:"Example",id:"example-2",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"control_margin",children:"CONTROL_MARGIN"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"/ecalc/docs/about/references/MODELS",children:"MODELS"})," /\n[...] /\n",(0,o.jsx)(n.a,{href:"/ecalc/docs/about/references/STAGES",children:"STAGES"})," /\n",(0,o.jsx)(n.a,{href:"/ecalc/docs/about/references/CONTROL_MARGIN",children:"CONTROL_MARGIN"})]}),"\n",(0,o.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,o.jsx)(n.p,{children:"This keyword defines the surge control margin for a single speed compressor chart or a variable speed compressor chart."}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"CONTROL_MARGIN"})," behaves as an alternate to the minimum flow line: For each chart curve (a single speed chart will have one, a variable speed chart will have at least two) the input will be 'cropped' to only include points to the right of the control line - modelling recirculation (ASV) from the correct control line."]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"CONTROL_MARGIN"})," is given as a percentage or fraction (",(0,o.jsx)(n.a,{href:"/ecalc/docs/about/references/CONTROL_MARGIN_UNIT",children:"CONTROL_MARGIN_UNIT"}),") of the rate difference between minimum- and maximum flow,\nfor the given speed. It is used to calculate the increase in minimum flow for each individual speed curve.\nIt is defined when setting up the stages in a ",(0,o.jsx)(n.a,{href:"/ecalc/docs/about/modelling/setup/models/compressor_modelling/compressor_models_types/single_speed_compressor_train_model",children:"Single speed compressor train model"}),", ",(0,o.jsx)(n.a,{href:"/ecalc/docs/about/modelling/setup/models/compressor_modelling/compressor_models_types/variable_speed_compressor_train_model",children:"Variable speed compressor train model"})," or ",(0,o.jsx)(n.a,{href:"/ecalc/docs/about/modelling/setup/models/compressor_modelling/compressor_models_types/variable_speed_compressor_train_model_with_multiple_streams_and_pressures",children:"Variable speed compressor train model with multiple streams and pressures"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["See ",(0,o.jsx)(n.a,{href:"/ecalc/docs/about/modelling/setup/models/compressor_modelling/compressor_charts/",children:"Surge control margin for variable speed compressor chart"})," for more details."]}),"\n",(0,o.jsxs)(n.h2,{id:"use-in-single-speed-compressor-train-model",children:["Use in ",(0,o.jsx)(n.a,{href:"/ecalc/docs/about/modelling/setup/models/compressor_modelling/compressor_models_types/single_speed_compressor_train_model",children:"Single speed compressor train model"})]}),"\n",(0,o.jsx)(n.h3,{id:"format",children:"Format"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"MODELS:\n  - NAME: <model name>\n    TYPE: SINGLE_SPEED_COMPRESSOR_TRAIN\n    FLUID_MODEL: <reference to fluid model, must be defined in MODELS>\n    ...\n    COMPRESSOR_TRAIN:\n      STAGES:\n        - INLET_TEMPERATURE: <inlet temperature in Celsius for stage>\n          COMPRESSOR_CHART: <reference to compressor chart model for first stage, must be defined in MODELS or FACILITY_INPUTS>\n          CONTROL_MARGIN: <Default value is zero>\n          CONTROL_MARGIN_UNIT: <FRACTION or PERCENTAGE, default is PERCENTAGE>\n          ....\n"})}),"\n",(0,o.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"MODELS:\n  - NAME: compressor_model\n    TYPE: SINGLE_SPEED_COMPRESSOR_TRAIN\n    FLUID_MODEL: fluid_model\n    ...\n    COMPRESSOR_TRAIN:\n      STAGES:\n        - INLET_TEMPERATURE: 20\n          COMPRESSOR_CHART: 1_stage_chart\n          CONTROL_MARGIN: 0.1\n          CONTROL_MARGIN_UNIT: FRACTION\n          ....\n"})}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"Stashed changes"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.h2,{id:"use-in-variable-speed-compressor-train-model",children:["Use in ",(0,o.jsx)(n.a,{href:"/ecalc/docs/about/modelling/setup/models/compressor_modelling/compressor_models_types/variable_speed_compressor_train_model",children:"Variable speed compressor train model"})]}),"\n",(0,o.jsx)(n.h3,{id:"format-1",children:"Format"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"MODELS:\n  - NAME: <model name>\n    TYPE: VARIABLE_SPEED_COMPRESSOR_TRAIN\n    FLUID_MODEL: <reference to fluid model, must be defined in MODELS>\n    ...\n    COMPRESSOR_TRAIN:\n      STAGES:\n        - INLET_TEMPERATURE: <inlet temperature in Celsius for stage>\n          COMPRESSOR_CHART: <reference to compressor chart model for first stage, must be defined in MODELS or FACILITY_INPUTS>\n          CONTROL_MARGIN: <Default value is zero>\n          CONTROL_MARGIN_UNIT: <FRACTION or PERCENTAGE, default is PERCENTAGE>\n          ....\n"})}),"\n",(0,o.jsx)(n.h3,{id:"example-1",children:"Example"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"MODELS:\n  - NAME: compressor_model\n    TYPE: VARIABLE_SPEED_COMPRESSOR_TRAIN\n    FLUID_MODEL: fluid_model\n    ...\n    COMPRESSOR_TRAIN:\n      STAGES:\n        - INLET_TEMPERATURE: 20\n          COMPRESSOR_CHART: 1_stage_chart\n          CONTROL_MARGIN: 0.1\n          CONTROL_MARGIN_UNIT: FRACTION\n          ....\n"})}),"\n",(0,o.jsxs)(n.h2,{id:"use-in-variable-speed-compressor-train-model-with-multiple-streams-and-pressures",children:["Use in ",(0,o.jsx)(n.a,{href:"/ecalc/docs/about/modelling/setup/models/compressor_modelling/compressor_models_types/variable_speed_compressor_train_model_with_multiple_streams_and_pressures",children:"Variable speed compressor train model with multiple streams and pressures"})]}),"\n",(0,o.jsx)(n.h3,{id:"format-2",children:"Format"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"MODELS:\n  - NAME: <model name>\n    TYPE: VARIABLE_SPEED_COMPRESSOR_TRAIN_MULTIPLE_STREAMS_AND_PRESSURES\n    ....\n    STREAMS:\n        - NAME: <name of stream 1>\n          TYPE: INGOING\n          FLUID_MODEL: <reference to fluid model, must be defined in MODELS>\n        - NAME: <name of stream 2>\n          TYPE: INGOING\n          FLUID_MODEL: <reference to fluid model, must be defined in MODELS>\n        - ...\n        - NAME: <name of stream N>\n          TYPE: OUTGOING # NB: No fluid definition for outgoing streams!\n    STAGES:\n      - INLET_TEMPERATURE: <inlet temperature in Celsius for stage>\n        COMPRESSOR_CHART: <reference to a compressor chart model defined in MODELS>\n        STREAM: <Optional>\n          - <reference stream from STREAMS for one in- or outgoing stream. Optional>\n          - <reference stream from STREAMS for another in- or outgoing stream. Optional>\n        CONTROL_MARGIN: <Default value 0.0>\n        CONTROL_MARGIN_UNIT: <FRACTION or PERCENTAGE, default is PERCENTAGE>\n        PRESSURE_DROP_AHEAD_OF_STAGE: <Pressure drop before compression stage [in bar]>\n        INTERSTAGE_CONTROL_PRESSURE:\n          UPSTREAM_PRESSURE_CONTROL: <pressure control>\n          DOWNSTREAM_PRESSURE_CONTROL: <pressure control>\n      - ...\n"})}),"\n",(0,o.jsx)(n.h3,{id:"example-2",children:"Example"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"MODELS:\n  - NAME: compressor_model\n    TYPE: VARIABLE_SPEED_COMPRESSOR_TRAIN_MULTIPLE_STREAMS_AND_PRESSURES\n    ....\n    STREAMS:\n      - NAME: 1_stage_inlet\n        TYPE: INGOING\n        FLUID_MODEL: fluid_model_1\n      - NAME: 3_stage_inlet\n        TYPE: INGOING\n        FLUID_MODEL: fluid_model_2\n      - NAME: 2_stage_outlet\n        TYPE: OUTGOING\n    STAGES:\n      - COMPRESSOR_CHART: 1_stage_chart\n        INLET_TEMPERATURE: 20\n        STREAM: \n          - 1_stage_inlet\n        CONTROL_MARGIN: 10\n        CONTROL_MARGIN_UNIT: PERCENTAGE\n      - COMPRESSOR_CHART: 2_stage_chart \n        INLET_TEMPERATURE: 30\n        CONTROL_MARGIN: 15\n        CONTROL_MARGIN_UNIT: PERCENTAGE\n      - COMPRESSOR_CHART: 3_stage_chart \n        INLET_TEMPERATURE: 35\n        STREAM: \n          - 2_stage_outlet\n          - 3_stage_inlet\n        INTERSTAGE_CONTROL_PRESSURE:\n          UPSTREAM_PRESSURE_CONTROL: INDIVIDUAL_ASV_RATE  #1st and 2nd stage\n          DOWNSTREAM_PRESSURE_CONTROL: INDIVIDUAL_ASV_RATE #3rd and 4th stage\n      - COMPRESSOR_CHART: 4_stage_chart \n        INLET_TEMPERATURE: 15\n"})})]})}function m(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>t});var s=r(96540);const o={},l=s.createContext(o);function a(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);