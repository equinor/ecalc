"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[7886],{28453:(e,n,o)=>{o.d(n,{R:()=>t,x:()=>a});var s=o(96540);const r={},i=s.createContext(r);function t(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(i.Provider,{value:n},e.children)}},54395:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"about/migration_guides/v8.20_to_v9.6","title":"v8.20 to v9.6","description":"v8.20 to v9.6 migration","source":"@site/docs/about/migration_guides/v8.20_to_v9.6.md","sourceDirName":"about/migration_guides","slug":"/about/migration_guides/v8.20_to_v9.6","permalink":"/ecalc/docs/about/migration_guides/v8.20_to_v9.6","draft":false,"unlisted":false,"editUrl":"https://github.com/equinor/ecalc/tree/main/documentation/docs/about/migration_guides/v8.20_to_v9.6.md","tags":[],"version":"current","sidebarPosition":-11,"frontMatter":{"title":"v8.20 to v9.6","description":"v8.20 to v9.6 migration","sidebar_position":-11},"sidebar":"about","previous":{"title":"v9.12 to v9.13","permalink":"/ecalc/docs/about/migration_guides/v9.12_to_v9.13"},"next":{"title":"v8.15 to v8.16","permalink":"/ecalc/docs/about/migration_guides/v8.15_to_v8.16"}}');var r=o(74848),i=o(28453);const t={title:"v8.20 to v9.6",description:"v8.20 to v9.6 migration",sidebar_position:-11},a="Migration guide v8.20 to v9.6",l={},d=[{value:"v8.20 to v8.21",id:"v820-to-v821",level:2},{value:"1. Changes to EFFICIENCY",id:"1-changes-to-efficiency",level:3},{value:"2. Changes to PRESSURE_DROP_AHEAD_OF_STAGE",id:"2-changes-to-pressure_drop_ahead_of_stage",level:3},{value:"v8.22 to v8.23",id:"v822-to-v823",level:2},{value:"1. Changes to COMPOSITION",id:"1-changes-to-composition",level:3},{value:"v8.26 to v9.0",id:"v826-to-v90",level:2},{value:"Changes to compressor trains in MODELS",id:"changes-to-compressor-trains-in-models",level:3},{value:"Changes to simplified compressor trains in MODELS",id:"changes-to-simplified-compressor-trains-in-models",level:3},{value:"v9.0 to v9.6",id:"v90-to-v96",level:2},{value:"Important Control Margin changes for compressors",id:"important-control-margin-changes-for-compressors",level:3},{value:"Enforcing more unique names",id:"enforcing-more-unique-names",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"migration-guide-v820-to-v96",children:"Migration guide v8.20 to v9.6"})}),"\n",(0,r.jsxs)(n.p,{children:["This migration guide is intended to help you migrate your existing eCalc\u2122 model from version v8.20 to v9.6. The guide\nis divided into 3 sections; ",(0,r.jsx)(n.strong,{children:"v8.22 to v8.23"}),", ",(0,r.jsx)(n.strong,{children:"v8.26 to v9.0"})," and ",(0,r.jsx)(n.strong,{children:"v9.0 to v9.6"}),". Make sure to go through the\nwhole guide to make sure you have updated your model(s) correctly."]}),"\n",(0,r.jsx)(n.h2,{id:"v820-to-v821",children:"v8.20 to v8.21"}),"\n",(0,r.jsx)(n.h3,{id:"1-changes-to-efficiency",children:"1. Changes to EFFICIENCY"}),"\n",(0,r.jsx)(n.p,{children:"We no longer allow 0 efficiency in input chart."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"EFFICIENCY"})," for ",(0,r.jsx)(n.code,{children:"FRACTION"})," must be between 0 and 1, greater than 0, and less than or equal to 1."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"EFFICIENCY"})," for ",(0,r.jsx)(n.code,{children:"PERCENTAGE"}),"must be between 0 and 100, greater than 0, and less than or equal to 100."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"2-changes-to-pressure_drop_ahead_of_stage",children:"2. Changes to PRESSURE_DROP_AHEAD_OF_STAGE"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"PRESSURE_DROP_AHEAD_OF_STAGE"})," for Simplified Variable Speed Train has no effect and is now treated as an error."]}),"\n",(0,r.jsx)(n.h2,{id:"v822-to-v823",children:"v8.22 to v8.23"}),"\n",(0,r.jsx)(n.h3,{id:"1-changes-to-composition",children:"1. Changes to COMPOSITION"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"H2O"})," is no longer allowed in a fluid composition, ",(0,r.jsx)(n.code,{children:"water"})," should be used instead"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"MODELS:\n- NAME: <name of fluid model, for reference>\n  TYPE: FLUID\n  FLUID_MODEL_TYPE: COMPOSITION\n  EOS_MODEL: <eos model>\n  COMPOSITION:\n    # This is old\n    H2O: <mole fraction>\n    # This is new\n    water: <mole fraction>\n    nitrogen: <mole fraction>\n    CO2: <mole fraction>\n    methane: <mole fraction, required>\n    ethane: <mole fraction>\n    propane: <mole fraction>\n    i_butane: <mole fraction>\n    n_butane: <mole fraction>\n    i_pentane: <mole fraction>\n    n_pentane: <mole fraction>\n    n_hexane: <mole fraction>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"v826-to-v90",children:"v8.26 to v9.0"}),"\n",(0,r.jsx)(n.h3,{id:"changes-to-compressor-trains-in-models",children:"Changes to compressor trains in MODELS"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"CONTROL_MARGIN"})," and ",(0,r.jsx)(n.code,{children:"CONTROL_MARGIN_UNIT"})," are now required for ",(0,r.jsx)(n.code,{children:"SINGLE_SPEED_COMPRESSOR_TRAIN"}),", ",(0,r.jsx)(n.code,{children:"VARIABLE_SPEED_COMPRESSOR_TRAIN"})," and ",(0,r.jsx)(n.code,{children:"VARIABLE_SPEED_COMPRESSOR_TRAIN_MULTIPLE_STREAMS_AND_PRESSURES"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"An example with new yaml implementation is shown below:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"MODELS:\n  - NAME: <model name>\n    TYPE: SINGLE_SPEED_COMPRESSOR_TRAIN\n    FLUID_MODEL: <reference to fluid model>\n    PRESSURE_CONTROL: <method for pressure control, DOWNSTREAM_CHOKE (default), UPSTREAM_CHOKE, , INDIVIDUAL_ASV_PRESSURE, INDIVIDUAL_ASV_RATE or COMMON_ASV>\n    MAXIMUM_DISCHARGE_PRESSURE: <Maximum discharge pressure in bar (can only use if pressure control is DOWNSTREAM_CHOKE)>\n    COMPRESSOR_TRAIN:\n      STAGES:\n        - INLET_TEMPERATURE: <inlet temperature in Celsius for stage>\n          COMPRESSOR_CHART: <reference to compressor chart model for first stage, must be defined in MODELS or FACILITY_INPUTS>\n          PRESSURE_DROP_AHEAD_OF_STAGE: <Pressure drop before compression stage [in bar]>\n          # This is new\n          CONTROL_MARGIN: <Default value is zero>\n          # This is new\n          CONTROL_MARGIN_UNIT: <FRACTION or PERCENTAGE, default is PERCENTAGE>\n        - INLET_TEMPERATURE: <inlet temperature in Celsius for stage>\n          COMPRESSOR_CHART: <reference to compressor chart model for second stage, must be defined in MODELS or FACILITY_INPUTS>\n          PRESSURE_DROP_AHEAD_OF_STAGE: <Pressure drop before compression stage [in bar]>\n          # This is new\n          CONTROL_MARGIN: <Default value is zero>\n          # This is new\n          CONTROL_MARGIN_UNIT: <FRACTION or PERCENTAGE, default is PERCENTAGE>\n        - ... and so forth for each stage in the train\n    POWER_ADJUSTMENT_CONSTANT: <Optional constant MW adjustment added to the model>\n    MAXIMUM_POWER: <Optional constant MW maximum power the compressor train can require>\n    CALCULATE_MAX_RATE: <Optional compressor train max standard rate [Sm3/day] in result if set to true. Default false. Use with caution. This will increase runtime significantly. >\n"})}),"\n",(0,r.jsx)(n.h3,{id:"changes-to-simplified-compressor-trains-in-models",children:"Changes to simplified compressor trains in MODELS"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"CONTROL_MARGIN"})," and ",(0,r.jsx)(n.code,{children:"CONTROL_MARGIN_UNIT"})," are not allowed for ",(0,r.jsx)(n.code,{children:"SIMPLIFIED_VARIABLE_SPEED_COMPRESSOR_TRAIN"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The new yaml implementation is described below, for simplified compressor train model with known compressor stages:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"MODELS:\n  - NAME: <model name>\n    TYPE: SIMPLIFIED_VARIABLE_SPEED_COMPRESSOR_TRAIN\n    FLUID_MODEL: <reference to fluid model>\n    COMPRESSOR_TRAIN:\n      STAGES:\n        - INLET_TEMPERATURE: <inlet temperature in Celsius for stage>\n          COMPRESSOR_CHART: <reference to compressor chart model for first stage, must be defined in MODELS or FACILITY_INPUTS>\n          # This is old\n          CONTROL_MARGIN: <Default value is zero>\n          # This is old\n          CONTROL_MARGIN_UNIT: <FRACTION or PERCENTAGE, default is PERCENTAGE>\n        - INLET_TEMPERATURE: <inlet temperature in Celsius for stage>\n          COMPRESSOR_CHART: <reference to compressor chart model for second stage, must be defined in MODELS or FACILITY_INPUTS>\n          # This is old\n          CONTROL_MARGIN: <Default value is zero>\n          # This is old\n          CONTROL_MARGIN_UNIT: <FRACTION or PERCENTAGE, default is PERCENTAGE>\n        - ... and so forth for each stage in the train\n    POWER_ADJUSTMENT_CONSTANT: <Optional constant MW adjustment added to the model>\n    MAXIMUM_POWER: <Optional constant MW maximum power the compressor train can require>\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Simplified compressor trains have to use generic compressor charts","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SIMPLIFIED_VARIABLE_SPEED_COMPRESSOR_TRAIN"})," is restricted to generic compressor charts, i.e. the ",(0,r.jsx)(n.code,{children:"COMPRESSOR_CHART"})," must be of type ",(0,r.jsx)(n.code,{children:"GENERIC_FROM_INPUT"})," or ",(0,r.jsx)(n.code,{children:"GENERIC_FROM_DESIGN_POINT"}),". The chart types ",(0,r.jsx)(n.code,{children:"SINGLE_SPEED"})," and ",(0,r.jsx)(n.code,{children:"VARIABLE_SPEED"})," are not allowed anymore."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"v90-to-v96",children:"v9.0 to v9.6"}),"\n",(0,r.jsx)(n.h3,{id:"important-control-margin-changes-for-compressors",children:"Important Control Margin changes for compressors"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"CONTROL_MARGIN"})," and ",(0,r.jsx)(n.code,{children:"CONTROL_MARGIN_UNIT"})," are ",(0,r.jsx)(n.strong,{children:"REQUIRED"})," for compressors for single compressors and compressor systems."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"CONTROL_MARGIN"})," and ",(0,r.jsx)(n.code,{children:"CONTROL_MARGIN_UNIT"})," are ",(0,r.jsx)(n.strong,{children:"NO LONGER ALLOWED"})," for simplified compressor trains."]}),"\n",(0,r.jsxs)(n.li,{children:["Simplified trains ",(0,r.jsx)(n.strong,{children:"HAVE TO USE"})," generic charts - single speed- and variable speed charts are not allowed."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"enforcing-more-unique-names",children:"Enforcing more unique names"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Fixed a bug where electrical consumers are required to have ",(0,r.jsx)(n.strong,{children:"UNIQUE"})," names."]}),"\n",(0,r.jsxs)(n.li,{children:["The following elements ",(0,r.jsx)(n.strong,{children:"MUST"})," also have ",(0,r.jsx)(n.strong,{children:"UNIQUE"})," names: ",(0,r.jsx)(n.code,{children:"MODELS"}),", ",(0,r.jsx)(n.code,{children:"FACILITY_INPUT"}),", ",(0,r.jsx)(n.code,{children:"TIME_SERIES"}),", ",(0,r.jsx)(n.code,{children:"FUEL_TYPES"})," and ",(0,r.jsx)(n.code,{children:"EMISSIONS"})," names."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);